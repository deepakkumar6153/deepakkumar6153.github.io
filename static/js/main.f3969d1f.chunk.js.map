{"version":3,"sources":["constants/appConstants.js","assets/arrow.svg","components/Objective.js","components/Loading.js","containers/App.js","utils/util.js","index.js","components/Objective.module.scss","containers/App.module.scss","components/Loading.module.scss"],"names":["SHOW_ALL","Objective","props","title","children","useState","isOpen","setIsOpen","className","s","objective","onClick","e","parent","src","arrow","alt","open","child","map","role","Loading","loading","loader","App","okrData","setOKRdata","isLoading","setIsLoading","filterValues","setFilterValues","appliedFilter","setAppliedFilter","useEffect","fetch","then","r","json","response","apiData","objectives","filters","okrArr","filterArr","filterId","entry","id","category","parent_objective_id","push","Object","keys","parentKey","filterObj","name","selected","length","translateOKR","data","catch","alert","app","header","filter","value","onChange","target","option","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.f3969d1f.chunk.js","sourcesContent":["export const URL_OKR = \"https://okrcentral.github.io/sample-okrs/db.json\";\nexport const SHOW_ALL = \"Select Category\";\n","export default __webpack_public_path__ + \"static/media/arrow.b9b01c5f.svg\";","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Objective.module.scss\";\nimport arrow from \"../assets/arrow.svg\";\n\nconst Objective = (props) => {\n  const { title, children = [] } = props;\n  const [isOpen, setIsOpen] = useState(true);\n\n  const handleArrowClick = (e) => {\n    setIsOpen((isOpen) => {\n      return !isOpen;\n    });\n  };\n\n  return (\n    <div className={s.objective}>\n      <div onClick={handleArrowClick} className={s.parent}>\n        <img\n          src={arrow}\n          alt={isOpen ? \"close \" : \"open \"}\n          className={isOpen ? s.open : \"\"}\n        ></img>\n        <div className={s.title}>{title}</div>\n      </div>\n\n      {isOpen && (\n        <div className={s.child}>\n          {children.map((child) => {\n            return (\n              <>\n                <div className={s.role}>{`${child.title}`}</div>\n              </>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\nObjective.propTypes = {\n  title: PropTypes.string.isRequired,\n  children: PropTypes.array,\n};\n\nexport default Objective;\n","import React from \"react\";\nimport s from \"./Loading.module.scss\";\n\nconst Loading = () => {\n  return (\n    <div className={s.loading}>\n      <img\n        className={s.loader}\n        alt=\"Loading ...\"\n        src=\"https://assets-global.website-files.com/5d8e324474cf44070af9c56b/5dad13bc06d077b3a3e6a832_favicon.png\"\n      />\n    </div>\n  );\n};\n\nexport default Loading;\n","import React, { useState, useEffect } from \"react\";\nimport { SHOW_ALL, URL_OKR } from \"../constants/appConstants.js\";\nimport Objective from \"../components/Objective.js\";\nimport { translateOKR } from \"../utils/util\";\nimport s from \"./App.module.scss\";\nimport Loading from \"../components/Loading.js\";\n\nconst App = () => {\n  const [okrData, setOKRdata] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [filterValues, setFilterValues] = useState([]);\n  const [appliedFilter, setAppliedFilter] = useState(\"\");\n\n  useEffect(() => {\n    fetch(URL_OKR)\n      .then((r) => r.json())\n      .then((response) => {\n        setIsLoading(false);\n        const [okrArr, filterArr] = translateOKR(response.data);\n        setOKRdata(okrArr);\n        setFilterValues(filterArr);\n        //if valid data, set initial filter to show all\n        filterArr.length > 0 && setAppliedFilter(filterArr[0].name);\n      })\n      .catch(() => {\n        alert(\"Something went wrong, please try again!!\");\n      });\n  }, []);\n\n  const getFilteredObjectives = () => {\n    return appliedFilter === SHOW_ALL\n      ? okrData\n      : okrData.filter((objective) => {\n          return objective.category === appliedFilter;\n        });\n  };\n\n  const onFilterChange = (e) => {\n    let appliedFilter = e.target.value;\n    setAppliedFilter(appliedFilter);\n  };\n\n  return (\n    <div className={s.app}>\n      {filterValues.length > 0 && (\n        <header className={s.header}>\n          <div className={s.filter}>\n            <select\n              name={\"selectFilters\"}\n              value={appliedFilter}\n              onChange={onFilterChange}\n            >\n              {filterValues.map(({ id, name }) => {\n                return (\n                  <option className={s.option} key={id} value={name}>\n                    {name}\n                  </option>\n                );\n              })}\n            </select>\n          </div>\n        </header>\n      )}\n      <main>\n        {isLoading ? (\n          <Loading />\n        ) : (\n          <>\n            {getFilteredObjectives().map((objective) => {\n              return <Objective key={objective.id} {...objective} />;\n            })}\n          </>\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n","import { SHOW_ALL } from \"../constants/appConstants\";\n\nexport const translateOKR = (apiData) => {\n  //create filters\n  //create parent child tree for OKRs\n  //keep translation pure\n  let objectives = {},\n    filters = {},\n    okrArr = [],\n    filterArr = [],\n    filterId = 1;\n  for (let entry of [...apiData]) {\n    let { id, category, parent_objective_id } = entry;\n    filters[category] = category;\n    if (parent_objective_id === \"\") {\n      entry.children = [];\n      objectives[id] = entry;\n    } else {\n      //avoid ill formed entries, e.g. MKT0031, MKT0032\n      objectives[parent_objective_id] &&\n        objectives[parent_objective_id].children.push(entry);\n    }\n  }\n\n  for (let parentKey of Object.keys(objectives)) {\n    okrArr.push(objectives[parentKey]);\n  }\n\n  for (let category of Object.keys(filters)) {\n    let filterObj = { id: filterId, name: category, selected: false };\n    filterArr.push(filterObj);\n    filterId++;\n  }\n\n  if (filterArr.length > 0) {\n    filterArr = [...[{ id: 0, name: SHOW_ALL, selected: true }], ...filterArr];\n  }\n  return [okrArr, filterArr];\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.scss\";\nimport App from \"./containers/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"objective\":\"Objective_objective__nd4BC\",\"parent\":\"Objective_parent__29JOp\",\"open\":\"Objective_open__3BPXT\",\"title\":\"Objective_title__NyrIh\",\"child\":\"Objective_child__14YbK\",\"role\":\"Objective_role__2hON4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1v308\",\"filter\":\"App_filter__1slqY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Loading_loading__2yynj\",\"loader\":\"Loading_loader__3lmjU\",\"flickerAnimation\":\"Loading_flickerAnimation__1fL6Z\"};"],"sourceRoot":""}